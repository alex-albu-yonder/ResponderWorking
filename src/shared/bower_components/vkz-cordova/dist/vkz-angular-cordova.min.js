/*! vkz-angular-cordova 12-12-2018 */
angular.module("verklizan.umox.common.html5.vkz-angular-cordova",[]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").factory("cameraService",["$rootScope","$q","$window","cordovaReady",function(a,b,c,d){"use strict";var e,f,g={},h=49;g.getPicture=function(a){return e=b.defer(),f=a||{},d.then(i).catch(j),e.promise};var i=function(){var a=k(f);c.navigator.camera.getPicture(function(a){e.resolve(a)},function(a){e.reject(a)},a)},j=function(a){return a=a||"camera is currently unavailable",e.reject(a)},k=function(a){var b=a,d=c.navigator.camera.DestinationType;return b.quality=h,b.destinationType=a.returnAsBytes===!0?d.DATA_URL:d.FILE_URI,b};return g}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").factory("cordovaIsPresent",["$window",function(a){"use strict";var b=a.cordova||a.PhoneGap||a.phonegap,c=/^file:\/{3}[^\/]/i.test(a.location.href),d=/ios|iphone|ipod|ipad|android/i.test(a.navigator.userAgent),e=b&&c&&d;return!!e}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").factory("cordovaReady",["$q","cordovaIsPresent","$window",function(a,b,c){"use strict";function d(){e.resolve()}var e=a.defer();return b?/ios|iphone|ipod|ipad|android/i.test(c.navigator.userAgent)?c.document.addEventListener("deviceready",d,!1):d():e.reject(),e.promise}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").constant("devicePlatformConstants",{iOS:"iOS",Android:"Android",WP8:"Win32NT",WP7:"WinCE",Tizen:"Tizen"}),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").factory("deviceService",["cordovaReady","$window",function(a,b){var c={};return a.then(function(){c.platform=b.device.platform,c.model=b.device.model,c.version=b.device.version,c.cordovaVersion=b.device.cordova,c.deviceUUID=b.device.uuid}),c}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").directive("diHideOnKeyboard",["keyboardService",function(a){"use strict";return{link:function(b,c){var d=function(){c.hide()},e=function(){c.show()};a.registerOnKeyboardShow(d),a.registerOnKeyboardHide(e),b.$on("$destroy",function(){a.unregisterOnKeyboardShow(d),a.unregisterOnKeyboardHide(e)})}}}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").factory("geolocationService",["$rootScope","$q","$window",function(a,b,c){return{getCurrentPosition:function(a){var d=b.defer();return c.navigator.geolocation.getCurrentPosition(function(a){d.resolve(a)},function(a){d.reject(a)},a),d.promise}}}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").factory("keyboardService",["$window",function(a){"use strict";var b={};return b.registerOnKeyboardShow=function(b){return"function"==typeof b&&(a.addEventListener("native.showkeyboard",b,!1),!0)},b.registerOnKeyboardHide=function(b){return"function"==typeof b&&(a.addEventListener("native.hidekeyboard",b,!1),!0)},b.unregisterOnKeyboardHide=function(b){return"function"==typeof b&&(a.removeEventListener("native.hidekeyboard",b,!1),!0)},b.unregisterOnKeyboardShow=function(b){return"function"==typeof b&&(a.removeEventListener("native.showkeyboard",b,!1),!0)},b}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").factory("launchNavigatorService",["$window","$rootScope","$q","cordovaReady",function(a,b,c,d){"use strict";var e,f,g,h={};h.navigate=function(a,b){return e=c.defer(),f=a,g=b,d.then(i).catch(k),e.promise};var i=function(){a.launchnavigator.navigate(f,g,j,k)},j=function(a){e.resolve(a)},k=function(a){e.reject(a)};return h}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").factory("nativeNotificationService",["$rootScope","$window","$q","cordovaReady",function(a,b,c,d){var e={alert:function(a,b,e){var h=c.defer();return d.then(function(){g(a,b,e,h)}).catch(function(){f(a,h)}),h.promise},confirm:function(a,b,e){var f=c.defer();return d.then(function(){i(a,b,e,f)}).catch(function(){h(a,f)}),j(f.promise)},beep:function(a){var e=c.defer();return d.then(function(){b.navigator.notification.beep(a)}).catch(function(){console.error("Beep is only supported on mobile platforms")}),j(e.promise)}},f=function(a,c){b.alert(a),c.resolve()},g=function(a,c,d,e){var f=function(){e.resolve()};b.navigator.notification.alert(a,f,c,d)},h=function(a,c){return b.confirm(a)?c.resolve():c.reject()},i=function(a,c,d,e){var f=function(a){1===a?e.resolve():e.reject()};b.navigator.notification.confirm(a,f,c,d)},j=function(a){var b=Object.getPrototypeOf(a);return Object.defineProperty(b,"ok",{value:b.ok?b.ok:a.then}),Object.defineProperty(b,"cancel",{value:b.cancel?b.cancel:a.catch}),a};return e}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").service("orientationService",["$window",function(a){var b,c="landscape",d="portrait",e="browser",f=[],g=[],h=[],i=function(a){this.orientation=a};this.getOrientation=function(){return b},this.registerOnOrientationChange=function(a){return!!angular.isFunction(a)&&(h.push(a),!0)},this.unRegisterOnOrientationChange=function(a){if(angular.isFunction(a)){var b=h.indexOf(a);if(b>-1)return h.splice(b,1),!0}return!1},this.registerOnEnterLandscape=function(a){return!!angular.isFunction(a)&&(g.push(a),!0)},this.unRegisterOnEnterLandscape=function(a){if(angular.isFunction(a)){var b=g.indexOf(a);if(b>-1)return g.splice(b,1),!0}return!1},this.registerOnEnterPortrait=function(a){return!!angular.isFunction(a)&&(f.push(a),!0)},this.unRegisterOnEnterPortrait=function(a){if(angular.isFunction(a)){var b=f.indexOf(a);if(b>-1)return f.splice(b,1),!0}return!1};var j=function(a){for(var b=0;b<a.length;b++)a[b]()},k=function(a){var b=l();b.orientation!==e&&(j(h),j(b.orientation===c?g:f))},l=function(){return b=new i(90===a.orientation||a.orientation===-90?c:0===a.orientation||180===a.orientation?d:e)};a.addEventListener("orientationchange",k,!1),l()}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").service("pushNotificationService",["$rootScope","$q","cordovaReady","deviceService","devicePlatformConstants","$window",function(a,b,c,d,e,f){var g,h=!1,i=b.defer(),j=[],k=null;this.registerPushEventAndReturnToken=function(){return this.registerPushEvents(),i.promise},this.registerPushEvents=function(){h===!1&&(h=!0,c.then(function(){l(),o()}).catch(function(){i.reject()}))},this.setPushNotificationCallback=function(a){g=a},this.addEventListenerForPush=function(a){j.push(a)},this.removeEventListenerForPush=function(a){var b=j.indexOf(a);b>=0&&j.splice(b,1)};var l=function(){k=f.PushNotification.init({android:{},ios:{badge:"true",sound:"true",alert:"true"}})},m=function(a){i.resolve(a)},n=function(b,c,d){a.$apply(function(){"function"==typeof g&&g(b,c);for(var a=0;a<j.length;a++){var e=j[a];"function"==typeof e&&e(c,d)}})},o=function(){k.on("registration",function(a){m(a.registrationId)}),k.on("notification",function(a){var b=a.additionalData.customContent;"string"==typeof b&&(b=JSON.parse(b)),n(a.additionalData.sessionId,a.additionalData.foreground,b)}),k.on("error",function(a){console.log(a)})}}]),angular.module("verklizan.umox.common.html5.vkz-angular-cordova").factory("splashScreenService",["cordovaReady","$window",function(a,b){var c={};return c.turnOffSplashScreen=function(){a.then(function(){b.navigator.splashscreen.hide()})},c.turnOnSplashScreen=function(){a.then(function(){b.navigator.splashscreen.show()})},c}]);