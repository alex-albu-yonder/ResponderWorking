<!doctype html>
<!-- Note that the Angular bootstrapper (ng-app="myApp") is set manually at the bottom of this file -->
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="initial-scale=1, width=device-width, user-scalable=no;user-scalable=0;" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' data: gap: https://ssl.gstatic.com; 
            script-src 'self' https://maps.googleapis.com 'unsafe-inline' 'unsafe-eval';
            connect-src * https:;
            style-src 'self' 'unsafe-inline' https:; 
            img-src 'self' * data:;
            media-src *;
            font-src 'self' https: data:;">

    <link type="text/css" rel="stylesheet" href="css/main.css" />

    <link type="text/css" rel="stylesheet" href="css/libs.css" />

    <script type="text/javascript" src="../../cordova.js"></script>

    <title>umo app</title>

</head>

<!--JvR: 'ontouchstart' is needed for proper working of the general touch background effect-->

<body ontouchstart="">
    <di-loading-spinner-from-service></di-loading-spinner-from-service>

    <div ng-view id="content"></div>

    <script type="text/javascript" src="js/jquery.js"></script>

    <script type="text/javascript" src="js/angular.js"></script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBbBU2wMzkTVjH4Llhys4aBnW22dL2QFEA" type="text/javascript"></script>

    <script type="text/javascript" src="js/mobiscroll.js"></script>

    <script type="text/javascript" src="js/libs.js"></script>

    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/partials.js"></script>

    <script type="text/javascript" src="../../shared/shared.js"></script>

    <script>
        angular.element(document).ready(function() {
            // instantiates fastclick to support mobile devices
            // ngTouch is not used because it does not work good together with jQuery.
            FastClick.attach(document.body);

            console.log("app is now starting with angularjs");

            window.verklizan.loadConfig("verklizan.umox.mobile", "../config.json").then(startApp);

            function startApp() {
                // After the locale file has been loaded completely, then bootstrapper is invoked.
                // This must be done manually because we need to be certain that the locale file is loaded fully, 
                // othwerwise the locale will not be applied.
                angular.bootstrap(document, ["verklizan.umox.mobile"]);
            };
        });
    </script>
</body>

</html>