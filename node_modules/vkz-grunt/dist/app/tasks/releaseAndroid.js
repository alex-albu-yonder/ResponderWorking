module.exports = function (grunt) {

    grunt.registerTask('releaseAndroid', 'Creates a release version including the Android Package (.apk) for installation on Android devices', function (run) {
        grunt.task.run('release');
        grunt.task.run('shell:execute:"node_modules/.bin/cordova" prepare android');
        grunt.task.run('shell:releaseAndroidCordova');

        var currentdate = new Date();
        var datetime = currentdate.getDate() + "-" + (currentdate.getMonth() + 1) + "-" + currentdate.getFullYear() + " @ " + currentdate.getHours() + "h-" + currentdate.getMinutes() + "m-" + currentdate.getSeconds() + "s";
        var appName = grunt.config.data.appName;

        grunt.task.run('mkdir:addAndroidReleaseFolder:' + datetime);
        grunt.task.run('copy:androidReleaseAPK:' + datetime);
        grunt.task.run('rename:renameAndroidAPKVersion:' + datetime);
        if (typeof run !== 'undefined' && run === 'run') {
            grunt.task.run('shell:installOnDeviceAndroid:' + datetime);
        }
    });
};
