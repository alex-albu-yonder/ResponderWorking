
module.exports = function (grunt) {
	grunt.registerTask('serveEfficient', 'slower serve task which is more efficient', function () {
		grunt.log.write("Support is: " + grunt.config('settings').silverlightSupport);

		grunt.task.run('shell:bowerInstall');

		if(grunt.config('settings').silverlightSupport) {
			if(!grunt.config('settings').excludeSilverlightInDebug) {
				grunt.task.run('msbuild:debug');
			}

			grunt.task.run('copy:silverlightBin');
		}

		grunt.task.run('copy:debug');

		if(grunt.config('settings').sassSupported) {
			grunt.task.run('buildSass');
		} else {
			grunt.task.run('build');
		}

        grunt.task.run('setMode:development');
        grunt.task.run('browserSync');

		if(grunt.config('settings').sassSupported) {
			grunt.task.run('watch:sassSupportedProgrammingEfficient');
		} else {
			grunt.task.run('watch:programmingEfficient');
		}
    });
};
